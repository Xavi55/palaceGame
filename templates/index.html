<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/index.css')}}">
    <title>Palace</title>
</head>
<body>
    <div id="menu">
        <div></div>
        <div>
            <input id="room" type="text" maxlength="4" autofocus placeholder="Roomname">
            <br />
            <br />
            <input id="name" type="text" placeholder="Name">
            <br />
            <br />
            <div id='options'>
                <button onclick="join(1)">Join Game</button>
                <button onclick="join(2)">Create</button>
            </div>
        </div>
        <div></div>
    </div>
    <!--  -->
    <h3 id="pName">#name</h3>
    <div id="container">
        field
        <div id="foes"></div>
        <div id="deck"></div>
        <div id="myHand"></div>
    </div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.4/socket.io.js"
    integrity="sha512-aMGMvNYu8Ue4G+fHa359jcPb1u+ytAF+P2SCb+PxrjCdO3n3ZTxJ30zuH39rimUggmTwmh2u7wvQsDTHESnmfQ=="
    crossorigin="anonymous"></script>
<!-- <script type="text/javascript" src="{{ url_for('static', filename='game.js')}}"></script>
-->
<script>
    let myPlayer = null
    var socket = io();

    let menu = document.getElementById('menu')
    let board = document.getElementById('container')

    function join(code)
    {
        let r = document.getElementById('room')
        let n = document.getElementById('name')

        if(r.value.length && n.value.length)
        {
            if(code==1)
            {
                socket.emit('joinRoom',{'name':n.value,'room':r.value})
            }
            else
            {
                socket.emit('makeRoom',{ 'name': n.value, 'room': r.value })
            }
        }
        else
        {
            alert('Enter room and name!')
        }
        r.value=''
        n.value=''
    }

    socket.on('joined', function (data) 
    {
        if (menu) 
        {
            menu.remove()
        }
        console.log(data.mess)
    })

    socket.on('err', function (data) {
        alert(data.mess)
    })
</script>

</html>